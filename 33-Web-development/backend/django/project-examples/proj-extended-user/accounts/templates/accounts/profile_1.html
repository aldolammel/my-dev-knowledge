{% extends "base.html" %}
{% load i18n %}
{% block title %}
    {{ page_title }}
{% endblock title %}
{% block description %}
{% endblock description %}
{% block keywords %}
{% endblock keywords %}
{% block content %}
    <div class="container">
        <div class="columns">
            <div class="column"></div>
            <div class="column is-8">
                <h2 class="subtitle is-4">{{ profile_type }}</h2>
                <h1 class="title is-1">{{ ttl }}: {{ user.username }}</h1>
                <hr class="has-background-white-ter mb-6" />
                <!-- PROFILE FORM - START -->
                <form method="post">
                    {% csrf_token %}
                    <div class="block content is-medium">
                        {# Non-field error #}
                        {% include "inc/error_message_non_field.html" with var=form %}
                        {# Sex and birth #}
                        <div class="columns is-mobile">
                            <div class="column is-6">
                                <div class="field">
                                    <label for="{{ form.sex.id }}" class="label">{{ form.sex.label }}</label>
                                    <div class="control has-icons-left">
                                        <div class="select is-large is-fullwidth">{{ form.sex }}</div>
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-venus-mars"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.sex %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.sex %}
                            </div>
                            <div class="column is-6">
                                <div class="field">
                                    <label for="{{ form.birthdate.id }}" class="label">{{ form.birthdate.label }}</label>
                                    <div class="control has-icons-left">
                                        {{ form.birthdate }}
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-cake-candles"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.birthdate %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.birthdate %}
                            </div>
                        </div>
                        {# Name and Email #}
                        <div class="columns">
                            <div class="column is-4">
                                <div class="field">
                                    <label for="{{ form.first_name.id }}" class="label">{{ form.first_name.label }}</label>
                                    <div class="control has-icons-left">
                                        {{ form.first_name }}
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-signature"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.first_name %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.first_name %}
                            </div>
                            <div class="column is-8">
                                <div class="field">
                                    <label for="{{ form.email.id }}" class="label">{{ form.email.label }}</label>
                                    <div class="control has-icons-left">
                                        {{ form.email }}
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-envelope"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.email %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.email %}
                            </div>
                        </div>
                        {# Notifications #}
                        <div class="columns">
                            <div class="column">
                                <div class="field">
                                    <div class="control">
                                        <label class="checkbox">
                                            {{ form.is_notified_by_email }}
                                            {{ form.is_notified_by_email.label }}
                                        </label>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.is_notified_by_email %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.is_notified_by_email %}
                            </div>
                        </div>
                        {# Language and Nomad question #}
                        <div class="columns">
                            <div class="column is-6">
                                <div class="field">
                                    <label for="{{ form.language.id }}" class="label">{{ form.language.label }}</label>
                                    <div class="control has-icons-left">
                                        <div class="select is-large is-fullwidth">{{ form.language }}</div>
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-language"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.language %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.language %}
                            </div>
                            <div class="column is-6">
                                <div class="field mt-6">
                                    <div class="control">
                                        <label class="checkbox">{{ form.is_nomad }} {{ form.is_nomad.label }}</label>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.is_nomad %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.is_nomad %}
                            </div>
                        </div>
                        {# Country and City #}
                        <div class="columns">
                            <div class="column is-6">
                                <div class="field">
                                    <label for="{{ form.country.id }}" class="label">{{ form.country.label }}</label>
                                    <div class="control has-icons-left">
                                        <div class="select is-large is-fullwidth">{{ form.country }}</div>
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-globe"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.country %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.country %}
                            </div>
                            <div class="column is-6">
                                <div class="field">
                                    <label for="{{ form.city.id }}" class="label">{{ form.city.label }}</label>
                                    <div class="control has-icons-left">
                                        {{ form.city }}
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-house-chimney"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.city %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.city %}
                            </div>
                        </div>
                        {# Goal, primary #}
                        <div class="columns">
                            <div class="column is-12">
                                <div class="field">
                                    <label for="{{ form.goal_primary.id }}" class="label">{{ form.goal_primary.label }}</label>
                                    <div class="control has-icons-left">
                                        <div class="select is-large is-fullwidth">{{ form.goal_primary }}</div>
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-bullseye"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.goal_primary %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.goal_primary %}
                            </div>
                        </div>
                        {# Goal, secundary #}
                        <div class="columns">
                            <div class="column is-12">
                                <div class="field">
                                    <label for="{{ form.goal_secondary.id }}" class="label">{{ form.goal_secondary.label }}</label>
                                    <div class="control has-icons-left">
                                        <div class="select is-large is-fullwidth">{{ form.goal_secondary }}</div>
                                        <span class="icon is-left">
                                            <i class="fa-solid fa-bullseye"></i>
                                        </span>
                                    </div>
                                </div>
                                {# Error message #}
                                {% include "inc/error_message.html" with var=form.goal_secondary %}
                                {# Help text #}
                                {% include "inc/help_text.html" with var=form.goal_secondary %}
                            </div>
                        </div>
                        {# Last pwd update #}
                        <div class="columns is-mobile">
                            <div class="column is-narrow">
                                <fieldset disabled>
                                    <div class="field">
                                        <label for="{{ form.last_pwd_update.id }}" class="label mb-0">{{ form.last_pwd_update.label }}</label>
                                        <div class="control">
                                            {{ form.last_pwd_update }}
                                            {% comment %} <span class="icon is-left">
                                                <i class="fa-solid fa-key"></i>
                                            </span> {% endcomment %}
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="column has-text-right">
                                <div class="field mt-1">
                                    <div class="control">
                                        <a href="{% url 'accounts:password_change_view' %}" class="button is-rounded">{{ bt_change_pwd }}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr class="has-background-white-ter mb-6" />
                        {# Account action options #}
                        {% include "accounts/inc/account_actions.html" %}
                    </div>
                </form>
                <!-- PROFILE FORM - END -->
            </div>
            <div class="column"></div>
        </div>
    </div>
{% endblock content %}
{% block scripts %}
{% endblock scripts %}
