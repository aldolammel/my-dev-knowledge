

POSTGRESQL: CREATING A DATABASE LOCALLY

    PRE.1) Assuming you got already the PostgreSQL installed locally:
        /Database/PostgreSQL/0-installing-and-updating/postgres-installing.txt

    PRE.2) Make sure the database is running:
        /Database/PostgreSQL/postgres-starting-and-stoping.txt

    >> Method to create a database:

        A) By pgAdmin;
        B) By terminal;

        - - - - - -

        A) Using PgAdmin - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

            A1) Open your local PgAdmin;
            
            A2) In the server tree (sidebar-left), also open the 'Databases';
            
                ATTENTION:
                    Never use the database called "postgres". This is the default db and it cannot be delete!

            A3) Create the new database:
                >> Right-click on "Databases" and select "Create" > "Database...";
                >> In the "Database" field, enter the name:
                        
                    By convention:
                        
                        <Cliente>_<Product_type>_<Release_year>
                    
                        e.g.:
                            Abcoo_b2b_2030
                            Abican_portal_2023
                            Aldolammel_ecommerce_2020
                            Ammana_b2b_2019

                >> And then save it! If no error, it's done, otherwise:

                    ATTENTION:
                    If an error message says "Collation version mismatch" it's because your O.S. has been updated but PostgreSQL db cluster hasn't! Solution:

                        A3.1) Close the PgAdmin, and stop the Postgres service:
                            /Database/PostgreSQL/postgres-starting-and-stoping.txt

                        A3.2) Update and upgrade your Postgre and O.S;

                            UBUNTU:
                                A3.2.1) Add the Postgre repo locally:
                                    /Database/PostgreSQL/0-installing-and-updating/postgres-updating.txt
                                A3.2.2) Update the entire system
                                    /OS/linux/debian-ubuntu/update.txt
                            WINDOWS:
                                A3.2.1) xxxxxxxxxxxxxxx
                                A3.2.2) xxxxxxxxxxxxxxx
                        
                        A3.3) Start the Postgres again:
                            /Database/PostgreSQL/postgres-starting-and-stoping.txt

                        A3.4) Go to the Postgres prompt and do this:
                            
                            $ sudo -u postgres psql -d postgres
                            
                            # List all databases:
                            $ \l

                        A3.5) Still in Postgres prompt, execute this for all databases:
                            ALTER DATABASE template1 REFRESH COLLATION VERSION;
                            ALTER DATABASE template0 REFRESH COLLATION VERSION;
                            ALTER DATABASE postgres REFRESH COLLATION VERSION;

                            >> It's ok is some of them say "version has not changed". 

                        A3.6) Open again the PgAdmin, and now you should be able to create a new db!



        B) Using Terminal - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
                    
            xxxxxxxxxx

        

